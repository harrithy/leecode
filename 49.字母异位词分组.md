# 字母异位词分组

## 题目描述

给你一个字符串数组，请你将 字母异位词 组合在一起。可以按任意顺序返回结果列表。

字母异位词 是指由重新排列源单词的字母得到的一个新单词，所有源单词中的字母通常恰好只用一次。

## 示例

**示例 1:**

```
输入: strs = ["eat", "tea", "tan", "ate", "nat", "bat"]
输出: [["bat"],["nat","tan"],["ate","eat","tea"]]
```

**示例 2:**

```
输入: strs = [""]
输出: [[""]]
```

**示例 3:**

```
输入: strs = ["a"]
输出: [["a"]]
```

## 提示

- `1 <= strs.length <= 10^4`
- `0 <= strs[i].length <= 100`
- `strs[i]` 仅包含小写字母

## 解决方案

### 方法一：排序

由于互为字母异位词的两个字符串包含的字母相同，因此对两个字符串分别进行排序之后得到的字符串一定是相同的。故可以将排序之后的字符串作为哈希表的键。

```javascript
/**
 * @param {string[]} strs
 * @return {string[][]}
 */
var groupAnagrams = function(strs) {
    const map = new Map();
    for (let str of strs) {
        // 将字符串转换为数组，排序后再转回字符串作为 key
        let array = Array.from(str);
        array.sort();
        let key = array.toString();
        
        // 如果 map 中没有这个 key，初始化一个空数组
        let list = map.get(key) ? map.get(key) : new Array();
        list.push(str);
        map.set(key, list);
    }
    // 返回 map 中所有的 value
    return Array.from(map.values());
};
// 时间复杂度：O(nk log k)，其中 n 是 strs 的长度，k 是 strs 中字符串的最大长度。
// 空间复杂度：O(nk)
```

### 方法二：计数

由于互为字母异位词的两个字符串包含的字母相同，因此两个字符串中的相同字母出现的次数一定是相同的。故可以将每个字母出现的次数使用字符串表示，作为哈希表的键。

```javascript
/**
 * @param {string[]} strs
 * @return {string[][]}
 */
var groupAnagrams = function(strs) {
    const map = new Object();
    for (let s of strs) {
        // 初始化计数数组，长度为 26，对应 a-z
        const count = new Array(26).fill(0);
        for (let c of s) {
            count[c.charCodeAt() - 'a'.charCodeAt()]++;
        }
        // 将计数数组转换为字符串作为 key
        // 比如 "1,0,0,...,0"
        map[count] ? map[count].push(s) : map[count] = [s];
    }
    return Object.values(map);
};
// 时间复杂度：O(n(k + |Σ|))，其中 n 是 strs 的长度，k 是 strs 中字符串的最大长度，|Σ| = 26。
// 空间复杂度：O(n(k + |Σ|))
```

## 总结

这道题的核心在于如何找到一种**标准形式**（Key），使得所有的字母异位词都能映射到同一个 Key 上。

1.  **排序法**：通过排序将异位词统一成相同的字符串。
2.  **计数法**：通过统计每个字符出现的次数，构造一个唯一的标识符。

在 JavaScript 中，使用 `Map` 或者 `Object` 都可以实现哈希表的功能。需要注意的是，如果使用数组作为 Key，在 `Map` 中不同引用的数组被视为不同的 Key，因此通常需要将数组转换为字符串（如 `toString()` 或 `join()`）来作为唯一的 Key。
