# 无重复字符的最长子串

## 题目描述

给定一个字符串 s ，请你找出其中不含有重复字符的 **最长子串** 的长度。

## 示例

```txt
输入: s = "abcabcbb"
输出: 3
解释: 因为无重复字符的最长子串是 "abc"，所以其长度为 3。
```

```txt
输入: s = "bbbbb"
输出: 1
解释: 因为无重复字符的最长子串是 "b"，所以其长度为 1。
```

```txt
输入: s = "pwwkew"
输出: 3
解释: 因为无重复字符的最长子串是 "wke"，所以其长度为 3。
请注意，你的答案必须是 子串 的长度，"pwke" 是一个子序列，不是子串。
```

## 提示

- 0 <= s.length <= 5 \* 10^4
- s 由英文字母、数字、符号和空格组成

## 思路

### 核心想法：滑动窗口

使用 **滑动窗口** 维护一个无重复字符的区间 `[left, right]`：

- 右指针 `right` 不断向右扩展窗口
- 当遇到重复字符时，左指针 `left` 向右收缩窗口，直到窗口内没有重复字符
- 过程中记录窗口的最大长度

### 如何判断重复？

使用 **哈希表（Map/Set）** 记录窗口内的字符：

- **方法一**：用 Set 存储窗口内的字符，遇到重复时逐个删除左边字符
- **方法二**：用 Map 存储字符最后出现的位置，可以直接跳转 `left` 指针（更优）

## 算法步骤

1. **初始化**：`left = 0`，`maxLen = 0`，创建一个 Map 存储字符及其索引
2. **遍历** 用 `right` 从 `0` 到 `n - 1`：
   - 如果 `s[right]` 在 Map 中存在，且其索引 `>= left`，说明窗口内有重复
     - 更新 `left = map.get(s[right]) + 1`，跳过重复字符
   - 更新字符的最新位置：`map.set(s[right], right)`
   - 更新最大长度：`maxLen = Math.max(maxLen, right - left + 1)`
3. 返回 `maxLen`

## 复杂度分析

- **时间复杂度**：\(O(n)\)，每个字符最多被访问两次（左右指针各一次）
- **空间复杂度**：\(O(min(m, n))\)，其中 m 是字符集大小，n 是字符串长度

## 代码实现（JavaScript）

### 方法一：滑动窗口 + Set

```js
var lengthOfLongestSubstring = function (s) {
  // 用 Set 存储窗口内的字符
  const set = new Set();
  let left = 0;
  let maxLen = 0;

  for (let right = 0; right < s.length; right++) {
    // 如果当前字符在窗口内已存在，收缩左边界
    while (set.has(s[right])) {
      set.delete(s[left]);
      left++;
    }
    // 将当前字符加入窗口
    set.add(s[right]);
    // 更新最大长度
    maxLen = Math.max(maxLen, right - left + 1);
  }

  return maxLen;
};
```

### 方法二：滑动窗口 + Map（推荐）

```js
var lengthOfLongestSubstring = function (s) {
  // 用 Map 存储字符最后出现的位置
  const map = new Map();
  let left = 0;
  let maxLen = 0;

  for (let right = 0; right < s.length; right++) {
    // 如果字符已存在且在窗口内，直接跳转左指针
    if (map.has(s[right]) && map.get(s[right]) >= left) {
      left = map.get(s[right]) + 1;
    }
    // 更新字符的最新位置
    map.set(s[right], right);
    // 更新最大长度
    maxLen = Math.max(maxLen, right - left + 1);
  }

  return maxLen;
};
```

## 总结

无重复字符的最长子串是经典的滑动窗口题目，关键点：

1. **滑动窗口**：用双指针维护一个无重复字符的区间
2. **哈希表优化**：用 Map 记录字符位置，可以直接跳转左指针，避免逐个删除
3. **窗口长度**：`right - left + 1` 就是当前窗口的长度
